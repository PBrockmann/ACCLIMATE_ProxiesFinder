/*!
 * dc-addons v0.13.1
 *
 * 2016-04-08 11:34:39
 *
 */
!function(){"use strict";return dc.baseMapChart?!1:void(dc.baseMapChart=function(a){a=dc.baseChart(a);var b,c=!0,d=!1,e=!1,f=!1,g=!1,h=function(a){L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a)},i=function(b){return a.title()(b)};return a._doRender=function(){},a._postRender=function(){},a.toLocArray=function(){},a.mapOptions=function(b){return arguments.length?(d=b,a):d},a.center=function(b){return arguments.length?(e=b,a):e},a.zoom=function(b){return arguments.length?(f=b,a):f},a.tiles=function(b){return arguments.length?(h=b,a):h},a.map=function(a){return arguments.length?b=a:b},a.popup=function(b){return arguments.length?(i=b,a):i},a.renderPopup=function(b){return arguments.length?(c=b,a):c},a.brushOn=function(b){return arguments.length?(g=b,a):g},a})}(),function(){"use strict";return dc.baseGoogleChart?!1:void(dc.baseGoogleChart=function(a){return a=dc.baseMapChart(a),a._doRender=function(){var b=new google.maps.Map(a.root().node(),a.mapOptions());return a.center()&&a.zoom()&&(b.setCenter(a.toLocArray(a.center())),b.setZoom(a.zoom())),a.map(b),a._postRender(),a._doRedraw()},a.toLocArray=function(a){return"string"==typeof a&&(a=a.split(",")),new google.maps.LatLng(a[0],a[1])},a})}(),function(){"use strict";return dc.googleChoroplethChart?!1:void(dc.googleChoroplethChart=function(a,b){var c=dc.colorChart(dc.baseGoogleChart({})),d=[],e=!1,f=!1,g={fillColor:"black",color:"gray",opacity:.4,fillOpacity:.6,weight:1},h=null,i=function(a){return a.key},j=function(a){var b=c.featureOptions();b instanceof Function&&(b=b(a)),b=JSON.parse(JSON.stringify(b));var e=d[c.featureKeyAccessor()(a)];return e&&e.d&&(b.fillColor=c.getColor(e.d,e.i),-1!==c.filters().indexOf(e.d.key)&&(b.opacity=.8,b.fillOpacity=1)),b};c._postRender=function(){f="string"==typeof e?c.map().data.loadGeoJson(e):c.map().data.addGeoJson(e),c.map().data.setStyle(c.featureStyle()),k()},c._doRedraw=function(){d=[],c._computeOrderedGroups(c.data()).forEach(function(a,b){d[c.keyAccessor()(a)]={d:a,i:b}}),c.map().data.setStyle(c.featureStyle())},c.geojson=function(a){return arguments.length?(e=a,c):e},c.featureOptions=function(a){return arguments.length?(g=a,c):g},c.featureKeyAccessor=function(a){return arguments.length?(i=a,c):i},c.featureStyle=function(a){return arguments.length?(j=a,c):j};var k=function(a,b){c.renderPopup()&&c.map().data.addListener("click",function(a){var b=new google.maps.MVCObject,e=d[c.featureKeyAccessor()(a.feature)];h&&h.close(),e||(e={}),e.d||(e.d={}),h=new google.maps.InfoWindow({content:c.popup()(e.d,a.feature)}),b.set("position",a.latLng),h.open(c.map(),b)}),c.brushOn()&&c.map().data.addListener("click",l)},l=function(a){if(a.feature){var b=c.featureKeyAccessor()(a.feature);dc.events.trigger(function(){c.filter(b),dc.redrawAll(c.chartGroup())})}};return c.anchor(a,b)})}(),function(){"use strict";return dc.googleMarkerChart?!1:void(dc.googleMarkerChart=function(a,b){var c=dc.baseGoogleChart({}),d=!1,e=!1,f=!1,g=!0,h=!1,i=!0,j=!1,k=!1,l=!1,m=!1,n={},o=[],p=!1,q=null,r=null;c.renderTitle(!0);var s=function(a){return c.keyAccessor()(a)},t=function(a){var b=new google.maps.Marker({position:c.toLocArray(c.locationAccessor()(a)),map:c.map(),title:c.renderTitle()?c.title()(a):"",clickable:c.renderPopup()||c.brushOn()&&!h,draggable:!1});return b};c._postRender=function(){c.brushOn()&&(h&&c.filterHandler(w),google.maps.event.addListener(c.map(),"zoom_changed",function(){c.map().getZoom()!==r&&(r=c.map().getZoom(),v("zoom"))},this),google.maps.event.addListener(c.map(),"dragend",function(){v("drag")},this),h||google.maps.event.addListener(c.map(),"click",function(){v("click")},this)),d&&(m=new MarkerClusterer(c.map()))},c._doRedraw=function(){var a=c._computeOrderedGroups(c.data()).filter(function(a){return 0!==c.valueAccessor()(a)});if(f)n={};else for(var b in n)n[b].setVisible(!1);d&&m.clearMarkers();var e=[],g=[],h=new google.maps.LatLngBounds;o=[],a.forEach(function(a){var b=c.keyAccessor()(a),i=null;!f&&b in n&&(i=n[b]),a.value?(null===i?i=u(a,b):i.setVisible(!0),h.extend(i.getPosition()),g.push(i),d?e.push(i):i.setMap(c.map()),o.push(i)):null!==i&&i.setVisible(!1)}),d&&e.length>0&&m.addMarkers(e),g.length&&(i||j&&!k)&&c.map().fitBounds(h),k=!1,i=!1},c.destroy=function(){
// clear markers and their events
for(var a in n)n.hasOwnProperty(a)&&(google.maps.event.clearInstanceListeners(n[a]),n[a].setMap(null),delete n[a]);
// clear map and it's events
google.maps.event.clearInstanceListeners(c.map()),c.map(null)},c.locationAccessor=function(a){return arguments.length?(s=a,c):s},c.marker=function(a){return arguments.length?(t=a,c):t},c.icon=function(a){return arguments.length?(p=a,c):p},c.cluster=function(a){return arguments.length?(d=a,c):d},c.clusterOptions=function(a){return arguments.length?(e=a,c):e},c.rebuildMarkers=function(a){return arguments.length?(f=a,c):f},c.brushOn=function(a){return arguments.length?(g=a,c):g},c.filterByArea=function(a){return arguments.length?(h=a,c):h},c.fitOnRender=function(a){return arguments.length?(i=a,c):i},c.fitOnRedraw=function(a){return arguments.length?(j=a,c):j},c.markerGroup=function(){return m},c.markers=function(a){return a?o:n};var u=function(a,b){var d=t(a);return d.key=b,c.renderPopup()&&google.maps.event.addListener(d,"click",function(){q&&q.close(),q=new google.maps.InfoWindow({content:c.popup()(a,d)}),q.open(c.map(),d)}),c.brushOn()&&!h&&google.maps.event.addListener(d,"click",x),n[b]=d,d},v=function(a){if(k=!0,h){var b;b=c.map().getCenter().equals(c.toLocArray(c.center()))&&c.map().getZoom()===c.zoom()?null:c.map().getBounds(),dc.events.trigger(function(){c.filter(null),b&&(l=!0,c.filter(b),l=!1),dc.redrawAll(c.chartGroup())})}else c.filter()&&("click"===a||c.filter()in n&&!c.map().getBounds().contains(n[c.filter()].getLatLng()))&&dc.events.trigger(function(){c.filter(null),c.renderPopup()&&c.map().closePopup(),dc.redrawAll(c.chartGroup())})},w=function(a,b){k=!0,c.dimension().filter(null),b&&b.length>0&&(c.dimension().filter(function(a){if(!(a in n))return!1;var c=n[a].position;return c&&b[0].contains(c)}),l||c.map().getBounds().toString===b[0].toString()||c.map().fitBounds(b[0]))},x=function(a){if(a.target){k=!0;var b=a.target.key;dc.events.trigger(function(){c.filter(b),dc.redrawAll(c.chartGroup())})}};return c.anchor(a,b)})}(),function(){"use strict";return dc.googleCustomChart?!1:void(dc.googleCustomChart=function(a,b){var c=dc.baseGoogleChart({}),d=null,e=null;return c.renderTitle(!0),c._postRender=function(){var a=c._computeOrderedGroups(c.data());a.forEach(function(a,b){c.renderItem()(c,c.map(),a,b)})},c._doRedraw=function(){var a=c._computeOrderedGroups(c.data()),b=c.valueAccessor();a.forEach(function(a,d){a.filtered=0===b(a),c.redrawItem()(c,c.map(),a,d)})},c.redrawItem=function(a){return arguments.length?(d=a,c):d},c.renderItem=function(a){return arguments.length?(e=a,c):e},c.anchor(a,b)})}();